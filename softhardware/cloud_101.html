
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cloud 101 for Seismology &#8212; HPS CyberTraining</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossaries" href="../reference/glossary.html" />
    <link rel="prev" title="Software and Hardware" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">HPS CyberTraining</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Welcome to HPS CyberTraining!
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Workshop Details
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../application.html">
   Application
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://seisscoped.org/HPS/index.html?jump_to=schedule">
   Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://seisscoped.org/HPS/index.html?jump_to=team">
   Team
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mission.html">
   HPS CyberTraining Mission
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../CoC.html">
   Event Code of Conduct
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Preliminary Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../preliminary/index.html">
   Preliminary Coding Work
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../preliminary/swc.html">
     Software Carpentry Training
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../preliminary/github.html">
     GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../preliminary/jupyterhub.html">
     JupyterHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../preliminary/git.html">
     Git
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../preliminary/python.html">
     Python Installation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../preliminary_seismo/index.html">
   Preliminary Seismology
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Soft and Hardware
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   Software and Hardware
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Cloud 101 for Seismology
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/glossary.html">
   Glossaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/bibliography.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_science.html">
   Open Science
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/open_source_software.html">
   Open-source Software
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/questions.html">
   How to Get Help
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/softhardware/cloud_101.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/SeisSCOPED/HPS/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/SeisSCOPED/HPS//issues/new?title=Issue%20on%20page%20%2Fsofthardware/cloud_101.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/SeisSCOPED/HPS/edit/main/book/softhardware/cloud_101.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Cloud 101 for Seismology
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-a-region">
     Choosing a region
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#launching-an-instance">
     Launching an instance
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#get-the-project-repo">
   get the project repo
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#start-the-docker-service">
   Start the docker service
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-the-image">
   Pull the image
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-docker">
   run the docker:
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-will-be-inside-you-cannot-run-a-jupyter-notebook-from-there">
   You will be inside. You cannot run a jupyter notebook from there.
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Cloud 101 for Seismology</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Cloud 101 for Seismology
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-a-region">
     Choosing a region
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#launching-an-instance">
     Launching an instance
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#get-the-project-repo">
   get the project repo
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#start-the-docker-service">
   Start the docker service
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-the-image">
   Pull the image
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-docker">
   run the docker:
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#you-will-be-inside-you-cannot-run-a-jupyter-notebook-from-there">
   You will be inside. You cannot run a jupyter notebook from there.
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="cloud-101-for-seismology">
<h1>Cloud 101 for Seismology<a class="headerlink" href="#cloud-101-for-seismology" title="Permalink to this headline">¶</a></h1>
<p>This tutorial will walk you thought getting on an AWS cloud instance from the ground up.</p>
<p>Here will we post the google slides of the basics of Cloud computing (Naomi and Rob).</p>
<p>Here we will post the youtube video of the deonstration.</p>
<p>For the 2023 workshop, and <strong>before the workshop</strong>:</p>
<ol class="simple">
<li><p>log in with your designated IAM User to this console: <a class="reference external" href="https://806812320051.signin.aws.amazon.com/console">https://806812320051.signin.aws.amazon.com/console</a></p></li>
<li><p>Choose the username that was decided by you and the workshop admin (IAM user nae account).</p></li>
<li><p>As a first log in, the auto generated password will need to be replaced. Use a sophisticated password to confirm with AWS security standards.</p></li>
</ol>
<div class="section" id="choosing-a-region">
<h2>Choosing a region<a class="headerlink" href="#choosing-a-region" title="Permalink to this headline">¶</a></h2>
<p>An important aspect of cloud</p>
</div>
<div class="section" id="launching-an-instance">
<h2>Launching an instance<a class="headerlink" href="#launching-an-instance" title="Permalink to this headline">¶</a></h2>
<p>Launch an instance using EC2 (Elastic Computing Cloud). Follow the steps below. Screen shots of the steps are linked [here](url for google slides)</p>
<ol class="simple">
<li><p>Choose a default <strong>instance OS</strong>: Amazon linux</p></li>
<li><p><strong>Name and tags</strong>: Be specific for best job anaageent: <code class="docutils literal notranslate"><span class="pre">FirstName_LastName_jobname</span></code>
Instance type: t2.micro</p></li>
<li><p><strong>Key pair</strong>: create a new key pair. Download the .pem file, move it to a location that you can have access to and remember where it is. If the file does not save as .pem, replace the extension with .pem. If you use a windows computer, you might need a ppk</p></li>
<li><p>Use <strong>existing security group</strong>, use default.</p></li>
<li><p>The rest is default and <em>launch it</em>.</p></li>
</ol>
<p>Now the instance is launched, use the console to check.
View instance, click on it. Right click connect, SSH client. Chmod the PEM file. In the same folder, copy the ssh link below and ssh to the instance. Just do Step 3 (chmod 400 *pem) and the example for “ssh -i “…</p>
<p>To start from scratch, copy paste these commands in the terminal.
You can do that all at once.
sudo yum install -y git docker
wget <a class="reference external" href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh">https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</a>
chmod +x Miniconda3-latest-Linux-x86_64.sh
./Miniconda3-latest-Linux-x86_64.sh -b -p $HOME/miniconda
./miniconda/bin/conda init bash
bash</p>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="get-the-project-repo">
<h1>get the project repo<a class="headerlink" href="#get-the-project-repo" title="Permalink to this headline">¶</a></h1>
<p>git clone <a class="reference external" href="https://github.com/SeisSCOPED/seis_cloud">https://github.com/SeisSCOPED/seis_cloud</a>
cd seis_cloud
conda create -y -n seiscloud python=3.8 pip
conda activate seiscloud
pip install -r requirements.txt</p>
<p>(update from github and overwrite local: git fetch + git merge)</p>
<p>To download from EC2:
scp -i “your.pem” <a class="reference external" href="mailto:ec2-user&#37;&#52;&#48;ec2-publicIPAddress&#46;us-west-2&#46;compute&#46;amazonaws&#46;com">ec2-user<span>&#64;</span>ec2-publicIPAddress<span>&#46;</span>us-west-2<span>&#46;</span>compute<span>&#46;</span>amazonaws<span>&#46;</span>com</a>:/home/ec2-user/seis_cloud/file .</p>
<p>If you are on Windows: C:&gt; pscp -i yourkey.ppk ec2-user&#64;publicDNS:/home/ubuntu/yourfilename C:[local_destination_path][folder]</p>
<p>To get the jupyter notebook running:
jupyter notebook –ip 0.0.0.0</p>
<p>Then we have 2 options:
ssh -i “user.pem” user&#64;publicIPaddress -L 8888:localhost:8888 -N
Then open a browser and type localhost:8888/
ssh -i “user.pem” user&#64;publicIPaddress -L 8888:localhost:8888 -N
Or</p>
<p>Open a browser, type the IP address of the instance (see the public Public IPv4 DNS)
Then type:
publicIPaddress:8888</p>
<p>It will open the notebook on the terminal, copy paste the token after publicIPaddress:8888/?token=TOKEN_TO_COPY</p>
<p>Potential issue : safari and chrome may be upset as malware . Continue ;</p>
<p>scp -i “Marine_Denolle_uwquake.pem” <a class="reference external" href="mailto:ec2-user&#37;&#52;&#48;ec2-18-221-93-107&#46;us-east-2&#46;compute&#46;amazonaws&#46;com">ec2-user<span>&#64;</span>ec2-18-221-93-107<span>&#46;</span>us-east-2<span>&#46;</span>compute<span>&#46;</span>amazonaws<span>&#46;</span>com</a>:/home/ec2-user/seis_cloud/features.csv .</p>
<p>You can save the image (AMI) so that you can start from there next time: click on the instance, click “image and instance” -&gt; “create image”, tag it for next time (in this workshop, please use FirstName_LastName_Image_TutorialX
You have to save it every time you want to save the current state of the instance</p>
<p>Docker:</p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="start-the-docker-service">
<h1>Start the docker service<a class="headerlink" href="#start-the-docker-service" title="Permalink to this headline">¶</a></h1>
<p>sudo systemctl start docker</p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="pull-the-image">
<h1>Pull the image<a class="headerlink" href="#pull-the-image" title="Permalink to this headline">¶</a></h1>
<p>sudo docker pull <a class="reference external" href="http://ghcr.io/seisscoped/seis_cloud:f041ec0">ghcr.io/seisscoped/seis_cloud:f041ec0</a></p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="run-the-docker">
<h1>run the docker:<a class="headerlink" href="#run-the-docker" title="Permalink to this headline">¶</a></h1>
<p>sudo docker run -it -p 8888:8888 <a class="reference external" href="http://ghcr.io/seisscoped/seis_cloud:latest">ghcr.io/seisscoped/seis_cloud:latest</a></p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="you-will-be-inside-you-cannot-run-a-jupyter-notebook-from-there">
<h1>You will be inside. You cannot run a jupyter notebook from there.<a class="headerlink" href="#you-will-be-inside-you-cannot-run-a-jupyter-notebook-from-there" title="Permalink to this headline">¶</a></h1>
<p>jupyter notebook –ip 0.0.0.0</p>
<p>What is the difference between stop and terminate and instance, saving data vs cost
NOTE: visit here to read more about stopping vs terminating.
If you stop, you do not pay for the hardware, but you will pay for the EBS volume only and the data is saved in the EBS volume. If you terminate, all data will be wiped and you will cease to pay.</p>
<p>Then you will log in as an IAM user: username</p>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./softhardware"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Software and Hardware</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../reference/glossary.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Glossaries</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Marine Denolle, eScience Institute, University of Washington<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>